<!DOCTYPE html>
<html>

<head>
    <title>Switch API Client</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
</head>

<body>
    <div class="navbar">
        <div class="navbar-inner">
            <a class="brand" href="#">Switch API Client</a>
        </div>
    </div>
    <div id="main" class="container">

        <table class="table table-striped">
            <tr>
                <td style="width: 1px;"></td>
                <td>
                    <b>Switch</b>
                </td>
                <td>
                    <b>Room</b>
                </td>
                <td>
                    <b>Options</b>
                </td>
            </tr>
            <!-- ko foreach: switches -->
            <tr>
                <td>
                    <span data-bind="visible: isON" class="label label-success">ON</span>
                    <span data-bind="visible: !isON()" class="label label-important">OFF</span>
                </td>
                <td>
                    <p>
                        <b data-bind="text: id"></b>.
                        <b data-bind="text: name"></b>
                    </p>
                    <p data-bind="text: description"></p>
                </td>
                <td>
                    <p data-bind="text: roomName"></p>
                </td>
                <td>
                    <span data-bind="visible: isON">
                        <button data-bind="click: $parent.switchON" class="btn">Switch ON</button>
                    </span>
                    <span data-bind="visible: !isON()">
                        <button data-bind="click: $parent.switchOFF" class="btn">Switch OFF</button>
                    </span>
                    <button data-bind="click: $parent.beginEdit" class="btn">Edit</button>
                    <button data-bind="click: $parent.remove" class="btn">Delete</button>
                </td>
            </tr>
            <!-- /ko -->
        </table>
        <button data-bind="click: beginAdd" class="btn">Add Switch</button>
    </div>

    <div id="add" class="modal hide fade" tabindex="1" role="dialog" aria-labelledby="addDialogLabel" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
            <h3 id="addDialogLabel">Add Switch</h3>
        </div>
        <div class="modal-body">
            <form class="form-horizontal">
                <div class="control-group">
                    <label class="control-label" for="inputSwitch">Switch</label>
                    <div class="controls">
                        <input data-bind="value: name" type="text" id="inputSwitch" placeholder="Switch name" style="width: 150px;">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="inputDescription">Description</label>
                    <div class="controls">
                        <input data-bind="value: description" type="text" id="inputDescription" placeholder="Description" style="width: 300px;">
                    </div>
                </div>
                <!-- <div class="control-group">
                    <label class="control-label" for="inputRoomId">Room Id</label>
                    <div class="controls">
                        <input data-bind="value: roomId" type="text" id="inputRoomId" placeholder="Room Id" style="width: 300px;">
                    </div>-->
                <div class="control-group">
                    <label class="control-label" for="inputRoomId">Room</label>
                    <div class="controls">
                        <select id="inputRoomId" name="inputRoomId" data-bind="options:switches, optionsValue:'id', optionsText:'name', value:roomId">
                        </select>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">State</label>
                    <div class="controls">
                        <label class="radio inline">
                            <input type="radio" id="stateON" value="ON" data-bind="checked:state"> On
                        </label>
                        <label class="radio inline">
                            <input type="radio" id="stateOFF" value="OFF" data-bind="checked:state"> Off
                        </label>
                    </div>
                    </label>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button data-bind="click: addSwitch" class="btn btn-primary">Add Switch</button>
            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
        </div>
    </div>

    <script type="text/javascript">
    </script>
    <script src="script.js" type="text/javascript"></script>
</body>

</html>